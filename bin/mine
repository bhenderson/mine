#!/bin/bash

# is there a better way to test FD 3?
[[ -a "/dev/fd/3" ]] || exec 3>/dev/null

# add libs
export PATH="$mine_path/lib:$PATH"
source 'common.sh'
export command_name=mine

usage() {
  [[ "$@" ]] && echo "$@"
cat <<-EOS
Usage: $command_name [command] [options]

  Commands:
    alias
    help
    install
    list
    remove
    use

EOS
  exit 1
}

parse_opts() {
  case "$1" in
    help)
      [[ "$2" ]] && parse_opts "$2" "--help"

      usage
    ;;
    alias|install|list|remove|use)
      cmd=$1; shift
      source "$cmd.sh" "$@"
    ;;
    *)
      usage "unknown option '$1'"
    ;;
  esac
}

parse_opts "$@"

update_ruby

# vim: ft=sh :
